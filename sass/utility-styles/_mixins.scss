@use "sass:map";
@use "../global-styles/theme" as theme;

// PANEL BASE 
@mixin panel-base($grad-start: theme.color(variant-6), $grad-end: theme.color(variant-3)) {
  background: linear-gradient(120deg, $grad-start, $grad-end);
  padding: 2rem;
  border-radius: 1rem;
  border: 2px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  overflow: hidden;
  position: relative;
}

// GLITCH TEXT 
@mixin glitch-text($c1, $c2) {
  position: relative;

  &::before,
  &::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    overflow: hidden;
  }

  &::before {
    left: -2px;
    text-shadow: -2px 0 $c1;
    animation: glitch-frag-1 1.4s infinite linear alternate-reverse;
  }

  &::after {
    left: 2px;
    text-shadow: -2px 0 $c2;
    animation: glitch-frag-2 1.7s infinite linear alternate-reverse;
  }
}

// KEYFRAMES 
@keyframes glitch-frag-1 {
  0%   { clip-path: inset(10% 0 85% 0); }
  25%  { clip-path: inset(60% 0 20% 0); }
  50%  { clip-path: inset(30% 0 50% 0); }
  75%  { clip-path: inset(80% 0 5% 0); }
  100% { clip-path: inset(10% 0 85% 0); }
}

@keyframes glitch-frag-2 {
  0%   { clip-path: inset(20% 0 70% 0); }
  25%  { clip-path: inset(50% 0 25% 0); }
  50%  { clip-path: inset(70% 0 10% 0); }
  75%  { clip-path: inset(30% 0 55% 0); }
  100% { clip-path: inset(20% 0 70% 0); }
}
