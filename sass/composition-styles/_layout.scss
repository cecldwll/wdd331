@use "../utility-styles/mixins" as mixins;
@use "../global-styles/theme" as theme;

// --------------------------
// Sections with glitchy borders
// --------------------------
section {
  background-color: theme.color(background); // solid black
  position: relative;
  border-radius: 1rem;
  margin: 2rem auto;
  padding: 2rem;
  max-width: 85%;
  z-index: 0;
  overflow: hidden;

  // Base neon border
  border: 2px solid rgba(255, 255, 255, 0.05);
  box-shadow: 0 0 5px rgba(255, 255, 255, 0.1);

  // Glitchy pseudo-elements
  &::before,
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    z-index: 2;
  }

  // Top/left glitch border
  &::before {
    border: 2px solid theme.color(variant-1);
    transform: translate(0, 0);
    animation: glitchBorder1 2s infinite linear alternate-reverse;
  }

  // Bottom/right glitch border
  &::after {
    border: 2px solid theme.color(variant-4);
    transform: translate(0, 0);
    animation: glitchBorder2 2.5s infinite linear alternate-reverse;
  }
}

// --------------------------
// Border glitch keyframes
// --------------------------
@keyframes glitchBorder1 {
  0%   { transform: translate(0, 0); opacity: 0.7; }
  25%  { transform: translate(-2px, 1px); opacity: 0.8; }
  50%  { transform: translate(1px, -1px); opacity: 0.6; }
  75%  { transform: translate(-1px, 2px); opacity: 0.7; }
  100% { transform: translate(0, 0); opacity: 0.7; }
}

@keyframes glitchBorder2 {
  0%   { transform: translate(0, 0); opacity: 0.6; }
  20%  { transform: translate(2px, -1px); opacity: 0.7; }
  40%  { transform: translate(-1px, 2px); opacity: 0.8; }
  60%  { transform: translate(1px, -2px); opacity: 0.6; }
  80%  { transform: translate(-2px, 1px); opacity: 0.7; }
  100% { transform: translate(0, 0); opacity: 0.6; }
}

// --------------------------
// Headings (h2) inside sections
// --------------------------
section h2 {
  @include mixins.glitch-text(theme.color(variant-1), theme.color(variant-4));
  display: inline-block;
  margin-bottom: 1rem;
}

// --------------------------
// Paragraphs and lists spacing
// --------------------------
section p,
section li {
  margin-bottom: 1.25rem;
  line-height: 1.6;
}

// --------------------------
// Links inside sections
// --------------------------
section a {
  color: theme.color(link);
  text-decoration: none;
  transition: color 0.25s, text-shadow 0.25s;

  &:hover {
    color: theme.color(variant-5);
    text-shadow: 0 0 4px theme.color(variant-1),
                 0 0 8px theme.color(variant-4);
  }
}
