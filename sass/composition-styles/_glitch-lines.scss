@use "../global-styles/theme" as theme;

// --------------------------
// Glitchy horizontal lines overlay
// --------------------------

// Lines on the page using pseudo-elements
body::before,
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: screen; // try 'normal' if you need better visibility for debugging
}

// Cyan lines
body::before {
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 3px,
    theme.color(variant-1) 3px,
    theme.color(variant-1) 4px,
    transparent 4px
  );
  opacity: 0.06; // subtle but visible
  animation: glitchLines 6s infinite steps(2, end);
}

// Magenta lines
body::after {
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 2px,
    theme.color(variant-4) 2px,
    theme.color(variant-4) 3px,
    transparent 3px
  );
  opacity: 0.06;
  animation: glitchLinesAlt 7s infinite steps(3, end);
}

// --------------------------
// Keyframes for glitchy vertical offset
// --------------------------
@keyframes glitchLines {
  0%   { transform: translateY(0px); }
  10%  { transform: translateY(-2px); }
  20%  { transform: translateY(1px); }
  30%  { transform: translateY(-3px); }
  40%  { transform: translateY(0px); }
  50%  { transform: translateY(2px); }
  60%  { transform: translateY(-1px); }
  70%  { transform: translateY(0px); }
  80%  { transform: translateY(-2px); }
  90%  { transform: translateY(1px); }
  100% { transform: translateY(0px); }
}

@keyframes glitchLinesAlt {
  0%   { transform: translateY(0px); }
  15%  { transform: translateY(1px); }
  25%  { transform: translateY(-2px); }
  35%  { transform: translateY(2px); }
  45%  { transform: translateY(-1px); }
  55%  { transform: translateY(0px); }
  65%  { transform: translateY(3px); }
  75%  { transform: translateY(-2px); }
  85%  { transform: translateY(1px); }
  95%  { transform: translateY(0px); }
  100% { transform: translateY(0px); }
}
